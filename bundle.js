(()=>{"use strict";var t={880:(t,o,i)=>{i.r(o)},157:(t,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Board=void 0;var e=i(265),n=function(){function t(t,o){this.options=t,this.positions=[[]],this.history=[],this.win=!1,this.element=o}return t.prototype.init=function(t){this.element.width=this.options.padding*(this.options.count+1),this.element.height=this.options.padding*(this.options.count+1),this.drawBoard(t),this.initPositions()},t.prototype.drawBoard=function(t){var o=this.options,i=o.borderColor,e=o.lineWidth,n=o.count,s=o.padding;t.closePath(),t.strokeStyle=i,t.lineWidth=e;for(var r=n+1,a=0;a<r;a+=1)t.moveTo(15+a*s,15),t.lineTo(15+a*s,s*r-15),t.stroke(),t.moveTo(15,15+a*s),t.lineTo(s*r-15,15+a*s),t.stroke()},t.prototype.initPositions=function(){for(var t=[[]],o=0;o<=this.options.count;o+=1){t[o]=[];for(var i=0;i<=this.options.count;i+=1)t[o][i]=0}this.positions=t},t.prototype.drawChessman=function(t,o,i,n){var s=this;if(void 0!==this.positions[o][i]&&Object.is(this.positions[o][i],0)){this.positions[o][i]=n;var r=t.createRadialGradient(o,i,10,o-5,i-5,0);t.beginPath(),t.arc(15+o*this.options.padding,15+i*this.options.padding,10,0,2*Math.PI),t.closePath(),n===e.RoleEnum.BLACK?(r.addColorStop(0,"#0a0a0a"),r.addColorStop(1,"#636766")):(r.addColorStop(0,"#d1d1d1"),r.addColorStop(1,"#f9f9f9")),t.fillStyle=r,t.fill(),this.history.push({x:o,y:i,role:n}),setTimeout((function(){s.checkReferee(o,i,n)}),0)}},t.prototype.checkReferee=function(t,o,i){var n=0,s=this.positions.map((function(t){return t[o]})),r=this.positions[t],a=[],d=[];if(this.positions.forEach((function(i,e){a.push(i[e-t+o]),d.push(i[t-e+o])})),[s,r,a,d].forEach((function(t){t.some((function(o,i){return void 0!==t[i]&&0!==t[i]&&t[i-2]===t[i-1]&&t[i-1]===t[i]&&t[i]===t[i+1]&&t[i+1]===t[i+2]}))&&(n+=1)})),n){this.win=!0;var h="".concat(i===e.RoleEnum.BLACK?"黑":"白","子胜利");window.alert(h),this.element.onclick=null}},t}();o.Board=n},265:(t,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RoleEnum=void 0;var e,n=i(157);!function(t){t[t.WHITE=1]="WHITE",t[t.BLACK=2]="BLACK"}(e=o.RoleEnum||(o.RoleEnum={}));var s=function(){function t(t,o){this.role=e.WHITE,this.boardElement=t,this.boxElement=document.getElementById("gobangBox"),this.audioElement=document.getElementById("clickAudio"),this.context=t.getContext("2d"),this.boardOptions={borderColor:"#b6895a",padding:30,count:20,lineWidth:2},this.board=new n.Board(this.boardOptions,this.boardElement),this.depth=o.depth,this.offens=o.offens}return t.prototype.initRestart=function(){var t=this;document.getElementById("restartBtn").onclick=function(){t.restart()}},t.prototype.init=function(){this.board.init(this.context),this.boardElement.onclick=this.listenDownChessman.bind(this),this.initRestart()},t.prototype.restart=function(){this.context.clearRect(0,0,630,630),this.board.init(this.context)},t.prototype.listenDownChessman=function(t){this.audioElement.play();var o=t.offsetX,i=t.offsetY;o=Math.round((o-15)/this.boardOptions.padding),i=Math.round((i-15)/this.boardOptions.padding),this.board.drawChessman(this.context,o,i,this.role),this.role=this.role===e.BLACK?e.WHITE:e.BLACK},t}();o.default=s},417:function(t,o,i){var e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.OffensEnum=o.DepthEnum=void 0,i(880);var n,s,r=e(i(265));!function(t){t[t.PRIMARY=0]="PRIMARY",t[t.INTERMEDIATE=1]="INTERMEDIATE",t[t.ADVANCED=2]="ADVANCED"}(n=o.DepthEnum||(o.DepthEnum={})),function(t){t[t.FIRST=0]="FIRST",t[t.SECOND=1]="SECOND"}(s=o.OffensEnum||(o.OffensEnum={}));var a={depth:n.INTERMEDIATE,offens:s.FIRST};function d(t){for(var o,i=document.getElementById(t),e=0;e<((null===(o=null==i?void 0:i.children)||void 0===o?void 0:o.length)||0);e+=1){var n=null==i?void 0:i.children[e];"LABEL"===(null==n?void 0:n.tagName)&&n.addEventListener("click",(function(o){o.target.value&&(a[t]=+o.target.value)}))}}!function(){d("depth"),d("offens");var t=document.getElementById("gobang");new r.default(t,a).init()}()}},o={};function i(e){var n=o[e];if(void 0!==n)return n.exports;var s=o[e]={exports:{}};return t[e].call(s.exports,s,s.exports,i),s.exports}i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(417)})();