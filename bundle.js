(()=>{"use strict";var t={880:(t,o,n)=>{n.r(o)},157:(t,o,n)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Board=void 0;var e=n(265),i=function(){function t(t,o){this.options=t,this.positions=[[]],this.history=[],this.win=!1,this.element=o}return t.prototype.init=function(t){this.element.width=this.options.padding*(this.options.count+1),this.element.height=this.options.padding*(this.options.count+1),this.drawBoard(t),this.initPositions()},t.prototype.drawBoard=function(t){var o=this.options,n=o.borderColor,e=o.lineWidth,i=o.count,s=o.padding;t.closePath(),t.strokeStyle=n,t.lineWidth=e;for(var r=i+1,a=0;a<r;a+=1)t.moveTo(15+a*s,15),t.lineTo(15+a*s,s*r-15),t.stroke(),t.moveTo(15,15+a*s),t.lineTo(s*r-15,15+a*s),t.stroke()},t.prototype.initPositions=function(){for(var t=[[]],o=0;o<=this.options.count;o+=1){t[o]=[];for(var n=0;n<=this.options.count;n+=1)t[o][n]=0}this.positions=t},t.prototype.drawChessman=function(t,o,n,i){var s=this;if(void 0!==this.positions[o][n]&&Object.is(this.positions[o][n],0)){this.positions[o][n]=i;var r=t.createRadialGradient(o,n,10,o-5,n-5,0);t.beginPath(),t.arc(15+o*this.options.padding,15+n*this.options.padding,10,0,2*Math.PI),t.closePath(),i===e.RoleEnum.BLACK?(r.addColorStop(0,"#0a0a0a"),r.addColorStop(1,"#636766")):(r.addColorStop(0,"#d1d1d1"),r.addColorStop(1,"#f9f9f9")),t.fillStyle=r,t.fill(),this.history.push({x:o,y:n,role:i}),setTimeout((function(){s.checkReferee(o,n,i)}),0)}},t.prototype.checkReferee=function(t,o,n){var i=0,s=this.positions.map((function(t){return t[o]})),r=this.positions[t],a=[],d=[];if(this.positions.forEach((function(n,e){a.push(n[e-t+o]),d.push(n[t-e+o])})),[s,r,a,d].forEach((function(t){t.some((function(o,n){return void 0!==t[n]&&0!==t[n]&&t[n-2]===t[n-1]&&t[n-1]===t[n]&&t[n]===t[n+1]&&t[n+1]===t[n+2]}))&&(i+=1)})),i){this.win=!0;var l="".concat(n===e.RoleEnum.BLACK?"黑":"白","子胜利");window.alert(l),this.element.onclick=null}},t}();o.Board=i},265:(t,o,n)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RoleEnum=void 0;var e,i=n(157);!function(t){t[t.WHITE=1]="WHITE",t[t.BLACK=2]="BLACK"}(e=o.RoleEnum||(o.RoleEnum={}));var s=function(){function t(t,o){this.role=e.WHITE,this.boardElement=t,this.boxElement=document.getElementById("gobangBox"),this.menuElement=document.getElementById("gobangMenu"),this.context=t.getContext("2d"),this.boardOptions={borderColor:"#b6895a",padding:30,count:20,lineWidth:2},this.board=new i.Board(this.boardOptions,this.boardElement),this.depth=o.depth,this.offens=o.offens}return t.prototype.initBackHome=function(){var t=this;document.getElementById("gohomeBtn").onclick=function(){t.boxElement.style.display="none",t.menuElement.style.display="flex"}},t.prototype.initRestart=function(){var t=this;document.getElementById("restartBtn").onclick=function(){t.restart()}},t.prototype.init=function(){this.board.init(this.context),this.boardElement.onclick=this.listenDownChessman.bind(this),this.initBackHome(),this.initRestart()},t.prototype.display=function(){this.menuElement.style.display="none",this.boxElement.style.display="block"},t.prototype.restart=function(){this.context.clearRect(0,0,630,630),this.board.init(this.context)},t.prototype.listenDownChessman=function(t){var o=t.offsetX,n=t.offsetY;o=Math.round((o-15)/this.boardOptions.padding),n=Math.round((n-15)/this.boardOptions.padding),this.board.drawChessman(this.context,o,n,this.role),this.role=this.role===e.BLACK?e.WHITE:e.BLACK},t}();o.default=s},417:function(t,o,n){var e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.OffensEnum=o.DepthEnum=void 0,n(880);var i,s,r=e(n(265));!function(t){t[t.PRIMARY=0]="PRIMARY",t[t.INTERMEDIATE=1]="INTERMEDIATE",t[t.ADVANCED=2]="ADVANCED"}(i=o.DepthEnum||(o.DepthEnum={})),function(t){t[t.FIRST=0]="FIRST",t[t.SECOND=1]="SECOND"}(s=o.OffensEnum||(o.OffensEnum={}));var a={depth:i.INTERMEDIATE,offens:s.FIRST};function d(t){for(var o,n=document.getElementById(t),e=0;e<((null===(o=null==n?void 0:n.children)||void 0===o?void 0:o.length)||0);e+=1){var i=null==n?void 0:n.children[e];"LABEL"===(null==i?void 0:i.tagName)&&i.addEventListener("click",(function(o){o.target.value&&(a[t]=+o.target.value)}))}}!function(){d("depth"),d("offens");var t=document.getElementById("gobang"),o=new r.default(t,a);o.init(),function(t){document.getElementById("playBtn").onclick=function(o){t.display()}}(o)}()}},o={};function n(e){var i=o[e];if(void 0!==i)return i.exports;var s=o[e]={exports:{}};return t[e].call(s.exports,s,s.exports,n),s.exports}n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(417)})();